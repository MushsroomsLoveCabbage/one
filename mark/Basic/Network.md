## TCP

#### 滑动窗口

* 同时发送和接收多个数据包来进行流量控制，
* TCP单个包数据在1500字节（待确定），（TCP报文头+IP报文头+报文）

### TCP分包粘包问题

* 应用程序同时从滑动窗口中读取到多个TCP数据包
* 分包黏包问题的本质是Tcp作为传输层，只保证用户的数据按照传输的顺序准确的被传送到对端即传送到系统的tcp缓冲区，当应用层接受到的数据是以一个一个的过来时候（消费完一个来一个的方式）即不存在这些问题，但实际是会存在多个数据被合并在一起，或者小的数据段被拆分开来传送过去，数据都到达了缓冲区，因此需要对这些数据在拆分或者合并。主要的方式是
  * 固定长度，即每个消息段固定长度，不足的部分补齐（补什么空格字节？）
  * 固定分隔符
  * 开头固定字节标记数据长度

### UDP

####  ***长度***

* 因为udp的数据长度限制为65535 还要去除（ip首部和udp首部）

* 数据超过MTU后会被数据分片 （tcp中有个分段，保证数据小于拆分限制，因此可以tcp数据包无需分片）

  ```java
  //拆分后的数据格式
  IP首部 + udp首部 + 数据
  IP首部 + 数据  
    
    数据发生丢失时候需要整个数据包重传。
  ```

* udp的时间数据长度会比理论值小，因为受限于系统的实现

***DNS 根据域名获得IP（一个域名可以对应多个IP）***