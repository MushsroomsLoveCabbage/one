### 机器指令和程序优化

#### 数据存储

***结构体***

* 结构体是C语言中的一种常见机制，数据在内存中存放排列，不同的数据类型对齐原则不同

  * windows 中 数据类型需要K字节，那地址必须是K的倍数，比如int类型地址需要是4的倍数
  * linux 中 2字节的数据类型地址必须是2倍数，较大类型必须是4的倍数

    相较而言linux 更加节省内存。

  ```c
  struct S4{
      char c;
      int i;
      char d;
  } *p;
  struct s5{
      char c;
      char d;
      int i;
  } *p;
  //对应的排列是
  S4 [c,3byte,i,d,3byte];
  S5 [c,d,2byte,i];
  相较而言节省了4byte
  //JAVA 中 对象实体定义后，在编译时会对对象属性进行排列，按照从大到小进行排列，以节省对齐的消耗程序优化
  ```

#### 程序优化

* 减少计算强度 (位运算, 乘法用加法替代)

  ```c
  //乘法代替加法
  for(int i = 0; i < n; i++){
      int ni = n * i;
  }
  
  int ni = 0;
  for(int i=0; i < n; i++){
      ni += n;
  }
  
  ```

  

